{"version":3,"sources":["components/Pagination.js","components/Form.js","components/Table.js","components/Dropdown.js","components/Main.js","components/BooksDetails.js","App.js","index.js"],"names":["Pagination","page","setPage","className","onClick","prev","Form","setGender","setName","type","placeholder","onChange","target","value","hidden","Table","showTable","DropdownMenu","pageSize","setPageSize","options","option","resetValue","selectedOption","Main","characters","setItemDetails","history","useHistory","useState","gender","name","singleRow","item","aliases","culture","push","goToBooksDetails","books","map","elem","substr","tvSeries","includes","length","indexOf","table","filter","toLowerCase","BooksDetails","itemDetails","booksDetails","setBooksDetails","console","log","useEffect","forEach","fetch","then","resp","json","data","catch","err","getBooksDetails","isbn","numberOfPages","Date","released","toLocaleDateString","split","App","setCharacters","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"qNAEe,SAASA,EAAT,GAAoC,IAAfC,EAAc,EAAdA,KAAKC,EAAS,EAATA,QAErC,OACI,sBAAKC,UAAU,cAAf,UACI,wBAAQC,QAAS,kBAAIF,EAAQ,IAA7B,wBACA,wBAAQE,QAAS,WAAeF,EAAH,IAAPD,EAAkB,SAAAI,GAAI,OAAGA,EAAK,GAAY,IAAhE,2BACA,wBAAQD,QAAS,WAAiBF,EAAL,MAAPD,EAAoB,SAAAI,GAAI,OAAGA,EAAK,GAAY,MAAlE,uBACA,wBAAQD,QAAS,kBAAIF,EAAQ,MAA7B,0BCPG,SAASI,EAAT,GAAoC,IAArBC,EAAoB,EAApBA,UAAWC,EAAS,EAATA,QAErC,OACI,iCACI,gCACI,uBAAOC,KAAK,OAAOC,YAAY,OAAOC,SAAU,gBAAEC,EAAF,EAAEA,OAAF,OAAYJ,EAAQI,EAAOC,YAE/E,yBAAQF,SAAU,gBAAEC,EAAF,EAAEA,OAAF,OAAYL,EAAUK,EAAOC,QAA/C,UACI,wBAAQC,QAAM,EAAd,oBACA,0CACA,4CACA,6CACA,+CCZD,SAASC,EAAT,GAA4B,IAAZC,EAAW,EAAXA,UAC3B,OACI,kCACI,gCACA,+BACI,8CACA,wCACA,yCACA,+CACA,sDAGJ,gCACCA,S,2BCTE,SAASC,EAAT,GAAgD,IAAzBC,EAAwB,EAAxBA,SAAUC,EAAc,EAAdA,YAgB5C,OACI,cAAC,IAAD,CACIT,YAAY,oBACZU,QAjBQ,CACZ,CAACP,MAAO,GACR,CAACA,MAAO,IACR,CAACA,MAAO,IACR,CAACA,MAAO,IACR,CAACA,MAAO,KAaJF,SAVS,SAAAU,GACM,KAAfA,EAAOR,OACPM,EAAYE,EAAOR,QASnBS,WAAY,GACZC,eAAgBL,ICnBb,SAASM,EAAT,GAAiF,IAAlEC,EAAiE,EAAjEA,WAAWxB,EAAsD,EAAtDA,KAAMC,EAAgD,EAAhDA,QAAQgB,EAAwC,EAAxCA,SAAUC,EAA8B,EAA9BA,YAAaO,EAAiB,EAAjBA,eAEtEC,EAAUC,cAF6E,EAI/DC,mBAAS,IAJsD,mBAIpFC,EAJoF,KAI5EvB,EAJ4E,OAKnEsB,mBAAS,IAL0D,mBAKpFE,EALoF,KAK9EvB,EAL8E,KAa3F,SAASwB,EAAUC,GACf,OAAQ,+BACCA,EAAKF,MAA4B,KAApBE,EAAKC,QAAQ,GAAY,+BAAKD,EAAKF,KAAV,KAAkBE,EAAKC,WAC1D,+BAAKD,EAAKF,KAAV,IAAiBE,EAAKC,WACzBD,EAAKH,OAAS,6BAAKG,EAAKH,SAAe,yCACvCG,EAAKE,QAAU,6BAAKF,EAAKE,UAAgB,yCAC1C,oBAAIhC,UAAU,QAAQC,QAAS,kBAXpB,SAAC6B,GACpBP,EAAeO,GACfN,EAAQS,KAAK,iBAS8BC,CAAiBJ,IAApD,SACI,6BAAKA,EAAKK,MAAMC,KAAI,SAAAC,GAAI,OAAI,6BAAgBA,EAAKC,QAAQ,EAAG,IAAvBD,UAExCP,EAAKS,SAASC,SAAS,IAAM,6BAAKV,EAAKS,SAASE,OAAS,IAAU,6BAAKX,EAAKS,SAASE,WAR7EnB,EAAWoB,QAAQZ,IA2BzC,OAAQ,uBAAM9B,UAAU,yBAAhB,UACA,cAACH,EAAD,CAAYC,KAAMA,EAAMC,QAASA,IACjC,cAACI,EAAD,CAAMC,UAAWA,EAAWC,QAASA,IACrC,cAACO,EAAD,CAAOC,UAjBf,WACI,IAAI8B,EAAQrB,EACZ,GAAIA,EAOA,OANIK,GAAmB,QAATA,IACTgB,EAAQA,EAAMC,QAAO,SAAAd,GAAI,OAAIA,EAAKH,SAAWA,MAE9CC,IACAe,EAAQA,EAAMC,QAAO,SAAAd,GAAI,OAAIA,EAAKF,KAAKiB,cAAcL,SAASZ,EAAKiB,mBAEhEF,EAAMP,KAAI,SAACN,GAAD,OAAUD,EAAUC,SASrC,cAAChB,EAAD,CAAcC,SAAUA,EAAUC,YAAaA,O,YCpD5C,SAAS8B,EAAT,GAAqC,IAAdC,EAAa,EAAbA,YAAa,EAETrB,mBAAS,IAFA,mBAExCsB,EAFwC,KAE1BC,EAF0B,KAuB/C,OAnBAC,QAAQC,IAAIH,GAWZI,qBAAU,WACHL,GACCA,EAAYZ,MAAMkB,SAAQ,SAAAvB,GAAI,OAXtC,SAAyBA,GACrBwB,MAAM,GAAD,OAAIxB,IACJyB,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UAClBF,MAAK,SAAAG,GAAI,OAAIT,GAAgB,SAAA/C,GAAI,4BAAOA,GAAP,CAAawD,UAC9CC,OAAM,SAAAC,GACHV,QAAQC,IAAIS,MAMgBC,CAAgB/B,QAGtD,IAIE,yBAAS9B,UAAU,yBAAnB,SACG,kCACI,gCACA,+BACI,sCACA,sCACA,iDACA,mDAGJ,gCACCgD,EAAcA,EAAaZ,KAAI,SAAAN,GAAI,OAAE,+BAClC,6BAAKA,EAAKF,OACV,6BAAKE,EAAKgC,OACV,6BAAKhC,EAAKiC,gBACV,6BAAK,IAAIC,KAAKlC,EAAKmC,UAAUC,mBAAmB,MAAMC,MAAM,SAJjBrC,EAAKgC,SAK7C,UCOPM,MAxCf,WAAgB,IAAD,EAEuB1C,mBAAS,IAFhC,mBAEJJ,EAFI,KAEQ+C,EAFR,OAGW3C,mBAAS,GAHpB,mBAGJ5B,EAHI,KAGEC,EAHF,OAImB2B,mBAAS,IAJ5B,mBAIJX,EAJI,KAIMC,EAJN,OAKyBU,mBAAS,IALlC,mBAKJqB,EALI,KAKSxB,EALT,KAyBb,OAPE6B,qBAAU,WATNE,MAAM,yDAAD,OAA0DxD,EAA1D,qBAA2EiB,IAC3EwC,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UAClBF,MAAK,SAAAG,GAAI,OAAIW,EAAcX,MAC3BC,OAAM,SAAAC,GACHV,QAAQC,IAAIS,QASjB,CAAC9D,EAAMiB,IAId,cAAC,IAAD,UACI,eAAC,IAAD,WACI,cAAC,IAAD,CAAOuD,OAAK,EAACC,KAAK,IAAlB,SACI,cAAClD,EAAD,CAAMC,WAAYA,EAAYxB,KAAMA,EAAMC,QAASA,EAASgB,SAAUA,EAAUC,YAAaA,EAAaO,eAAgBA,MAE9H,cAAC,IAAD,CAAOgD,KAAK,gBAAZ,SACI,cAACzB,EAAD,CAAcC,YAAaA,YClC3CyB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.783ef30b.chunk.js","sourcesContent":["import React from 'react';\n\nexport default function Pagination({page,setPage}){\n\n    return(\n        <div className='buttons-box'>\n            <button onClick={()=>setPage(1)}>First page</button>\n            <button onClick={()=>{page!==1? setPage(prev=>(prev-1)):setPage(1)}}>Previous page</button>\n            <button onClick={()=>{page!==214? setPage(prev=>(prev+1)):setPage(214)}}>Next page</button>\n            <button onClick={()=>setPage(214)}>Last page</button>\n        </div>\n    )\n}","import React from 'react';\n\nexport default function Form({setGender, setName}){\n\n    return(\n        <form>\n            <label>\n                <input type='text' placeholder='Name' onChange={({target})=>setName(target.value)}/>\n            </label>\n            <select onChange={({target})=>setGender(target.value)}>\n                <option hidden>Gender</option>\n                <option>Male</option>\n                <option>Female</option>\n                <option>Unknown</option>\n                <option>All</option>\n            </select>\n        </form>\n    )\n\n}","import React from 'react';\n\nexport default function Table({showTable}){\n    return(\n        <table>\n            <thead>\n            <tr>\n                <th>Name&Aliases</th>\n                <th>Gender</th>\n                <th>Culture</th>\n                <th>Books list ID</th>\n                <th>Number tvSeries</th>\n            </tr>\n            </thead>\n            <tbody>\n            {showTable()}\n            </tbody>\n        </table>\n    )\n}","import React from 'react'\n\nimport Dropdown from 'react-dropdown';\nimport 'react-dropdown/style.css';\n\n\nexport default function DropdownMenu({pageSize, setPageSize}) {\n\n    const options = [\n        {value: 5},\n        {value: 10},\n        {value: 15},\n        {value: 20},\n        {value: 25}\n    ]\n\n    const onChange = option => {\n        if (option.value!==\"\" ) {\n            setPageSize(option.value)\n        }\n    }\n\n    return (\n        <Dropdown\n            placeholder=\"Number of results\"\n            options={options}\n            onChange={onChange}\n            resetValue={''}\n            selectedOption={pageSize}\n        />)\n}\n\n","import React, {useState} from 'react';\nimport { useHistory } from 'react-router-dom'\n\nimport Pagination from \"./Pagination\";\nimport Form from \"./Form\";\nimport Table from \"./Table\";\nimport DropdownMenu from \"./Dropdown\";\n\n\nexport default function Main({characters,page, setPage,pageSize, setPageSize, setItemDetails}) {\n\n    let history = useHistory();\n\n    const [gender, setGender] = useState('');\n    const [name, setName] = useState('');\n\n\n    const goToBooksDetails=(item)=>{\n        setItemDetails(item)\n        history.push(\"/booksDetails\")\n    }\n\n    function singleRow(item) {\n        return (<tr  key={characters.indexOf(item)} >\n                {item.name && item.aliases[0] !== \"\" ? <td>{item.name}, {item.aliases}</td> :\n                    <td>{item.name} {item.aliases}</td>}\n                {item.gender ? <td>{item.gender}</td> : <td>Unknown</td>}\n                {item.culture ? <td>{item.culture}</td> : <td>Unknown</td>}\n                <td className='books' onClick={()=>goToBooksDetails(item)}>\n                    <ul>{item.books.map(elem => <li key={elem}>{elem.substr(-1, 1)}</li>)}</ul>\n                </td>\n                {item.tvSeries.includes(\"\") ? <td>{item.tvSeries.length - 1}</td> : <td>{item.tvSeries.length}</td>}\n            </tr>)\n    }\n\n\n    function showTable() {\n        let table = characters;\n        if (characters) {\n            if (gender && gender!==\"All\") {\n                 table = table.filter(item => item.gender === gender);\n            }\n            if (name) {\n                table = table.filter(item => item.name.toLowerCase().includes(name.toLowerCase()));\n            }\n            return table.map((item) => singleRow(item));\n        }\n    }\n\n\n    return (<main className='container main-section'>\n            <Pagination page={page} setPage={setPage}/>\n            <Form setGender={setGender} setName={setName}/>\n            <Table showTable={showTable}/>\n            <DropdownMenu pageSize={pageSize} setPageSize={setPageSize}/>\n        </main>)\n\n}","import React, {useState, useEffect} from 'react';\n\nexport default function BooksDetails({itemDetails}){\n\n    const [booksDetails, setBooksDetails]=useState([])\n\n    console.log(booksDetails)\n\n    function getBooksDetails(item){\n        fetch(`${item}`)\n            .then(resp => resp.json())\n            .then(data => setBooksDetails(prev=>([...prev, data])))\n            .catch(err => {\n                console.log(err)\n            });\n    }\n\n    useEffect(function (){\n        if(itemDetails){\n            itemDetails.books.forEach(item=>getBooksDetails(item))\n        }\n\n    },[])\n\n\n    return(\n        <section className='container main-section'>\n           <table>\n               <thead>\n               <tr>\n                   <th>Name</th>\n                   <th>ISBN</th>\n                   <th>Number of pages</th>\n                   <th>Release date</th>\n               </tr>\n               </thead>\n               <tbody>\n               {booksDetails? booksDetails.map(item=><tr key={item.isbn}>\n                   <td>{item.name}</td>\n                   <td>{item.isbn}</td>\n                   <td>{item.numberOfPages}</td>\n                   <td>{new Date(item.released).toLocaleDateString(\"pl\").split(\"-\")}</td>\n               </tr>):''}\n               </tbody>\n           </table>\n        </section>\n    )\n}","import React,{useState,useEffect} from 'react';\nimport {BrowserRouter as Router} from \"react-router-dom\";\nimport {Route, Switch} from 'react-router'\n\n\nimport Main from \"./components/Main\";\nimport BooksDetails from \"./components/BooksDetails\";\n\n\nfunction App() {\n\n    const [characters, setCharacters]=useState('');\n    const [page, setPage]=useState(1);\n    const [pageSize, setPageSize]=useState(10)\n    const [itemDetails, setItemDetails]=useState('');\n\n\n    function getApiCharacters(){\n        fetch(`https://www.anapioficeandfire.com/api/characters?page=${page}&pageSize=${pageSize}`)\n            .then(resp => resp.json())\n            .then(data => setCharacters(data))\n            .catch(err => {\n                console.log(err)\n            });\n    }\n\n\n    useEffect(function ()\n        {\n        getApiCharacters();\n\n        }, [page, pageSize]);\n\n\n  return (\n    <Router>\n        <Switch>\n            <Route exact path='/'>\n                <Main characters={characters} page={page} setPage={setPage} pageSize={pageSize} setPageSize={setPageSize} setItemDetails={setItemDetails}/>\n            </Route>\n            <Route path=\"/booksDetails\">\n                <BooksDetails itemDetails={itemDetails}/>\n            </Route>\n        </Switch>\n\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'reset-css';\nimport './scss/main.scss';\nimport App from './App';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// reportWebVitals();\n"],"sourceRoot":""}