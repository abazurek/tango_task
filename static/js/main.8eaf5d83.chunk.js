(this.webpackJsonptango_task=this.webpackJsonptango_task||[]).push([[0],{28:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n(1),r=n.n(s),i=n(18),a=n.n(i),j=(n(27),n(28),n(7)),o=n(14),l=n(2);function u(e){var t=e.page,n=e.setPage;return Object(c.jsxs)("div",{className:"buttons-box",children:[Object(c.jsx)("button",{onClick:function(){return n(1)},children:"First page"}),Object(c.jsx)("button",{onClick:function(){n(1!==t?function(e){return e-1}:1)},children:"Previous page"}),Object(c.jsx)("button",{onClick:function(){n(214!==t?function(e){return e+1}:214)},children:"Next page"}),Object(c.jsx)("button",{onClick:function(){return n(214)},children:"Last page"})]})}function b(e){var t=e.setGender,n=e.setName;return Object(c.jsxs)("form",{children:[Object(c.jsx)("label",{children:Object(c.jsx)("input",{type:"text",placeholder:"Name",onChange:function(e){var t=e.target;return n(t.value)}})}),Object(c.jsxs)("select",{onChange:function(e){var n=e.target;return t(n.value)},children:[Object(c.jsx)("option",{hidden:!0,children:"Gender"}),Object(c.jsx)("option",{children:"Male"}),Object(c.jsx)("option",{children:"Female"}),Object(c.jsx)("option",{children:"Unknown"}),Object(c.jsx)("option",{children:"All"})]})]})}function h(e){var t=e.showTable;return Object(c.jsxs)("table",{children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Name&Aliases"}),Object(c.jsx)("th",{children:"Gender"}),Object(c.jsx)("th",{children:"Culture"}),Object(c.jsx)("th",{children:"Books list ID"}),Object(c.jsx)("th",{children:"Number tvSeries"})]})}),Object(c.jsx)("tbody",{children:t()})]})}var d=n(19),O=n.n(d);n(30);function x(e){var t=e.pageSize,n=e.setPageSize;return Object(c.jsx)(O.a,{placeholder:"Number of results",options:[{value:5},{value:10},{value:15},{value:20},{value:25}],onChange:function(e){""!==e.value&&n(e.value)},resetValue:"",selectedOption:t})}function f(e){var t=e.characters,n=e.page,r=e.setPage,i=e.pageSize,a=e.setPageSize,o=e.setItemDetails,d=Object(l.f)(),O=Object(s.useState)(""),f=Object(j.a)(O,2),g=f[0],p=f[1],m=Object(s.useState)(""),v=Object(j.a)(m,2),S=v[0],k=v[1];function C(e){return Object(c.jsxs)("tr",{children:[e.name&&""!==e.aliases[0]?Object(c.jsxs)("td",{children:[e.name,", ",e.aliases]}):Object(c.jsxs)("td",{children:[e.name," ",e.aliases]}),e.gender?Object(c.jsx)("td",{children:e.gender}):Object(c.jsx)("td",{children:"Unknown"}),e.culture?Object(c.jsx)("td",{children:e.culture}):Object(c.jsx)("td",{children:"Unknown"}),Object(c.jsx)("td",{className:"books",onClick:function(){return function(e){o(e),d.push("/booksDetails")}(e)},children:Object(c.jsx)("ul",{children:e.books.map((function(e){return Object(c.jsx)("li",{children:e.substr(-1,1)},e)}))})}),e.tvSeries.includes("")?Object(c.jsx)("td",{children:e.tvSeries.length-1}):Object(c.jsx)("td",{children:e.tvSeries.length})]},t.indexOf(e))}return Object(c.jsxs)("main",{className:"container main-section",children:[Object(c.jsx)(u,{page:n,setPage:r}),Object(c.jsx)(b,{setGender:p,setName:k}),Object(c.jsx)(h,{showTable:function(){var e=t;if(t)return g&&"All"!==g&&(e=e.filter((function(e){return e.gender===g}))),S&&(e=e.filter((function(e){return e.name.toLowerCase().includes(S.toLowerCase())}))),e.map((function(e){return C(e)}))}}),Object(c.jsx)(x,{pageSize:i,setPageSize:a})]})}var g=n(21);function p(e){var t=e.itemDetails,n=Object(s.useState)([]),r=Object(j.a)(n,2),i=r[0],a=r[1];return console.log(i),Object(s.useEffect)((function(){t&&t.books.forEach((function(e){return function(e){fetch("".concat(e)).then((function(e){return e.json()})).then((function(e){return a((function(t){return[].concat(Object(g.a)(t),[e])}))})).catch((function(e){console.log(e)}))}(e)}))}),[]),Object(c.jsx)("section",{className:"container main-section",children:Object(c.jsxs)("table",{children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Name"}),Object(c.jsx)("th",{children:"ISBN"}),Object(c.jsx)("th",{children:"Number of pages"}),Object(c.jsx)("th",{children:"Release date"})]})}),Object(c.jsx)("tbody",{children:i?i.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.name}),Object(c.jsx)("td",{children:e.isbn}),Object(c.jsx)("td",{children:e.numberOfPages}),Object(c.jsx)("td",{children:new Date(e.released).toLocaleDateString("pl").split("-")})]},e.isbn)})):""})]})})}var m=function(){var e=Object(s.useState)(""),t=Object(j.a)(e,2),n=t[0],r=t[1],i=Object(s.useState)(1),a=Object(j.a)(i,2),u=a[0],b=a[1],h=Object(s.useState)(10),d=Object(j.a)(h,2),O=d[0],x=d[1],g=Object(s.useState)(""),m=Object(j.a)(g,2),v=m[0],S=m[1];return Object(s.useEffect)((function(){fetch("https://www.anapioficeandfire.com/api/characters?page=".concat(u,"&pageSize=").concat(O)).then((function(e){return e.json()})).then((function(e){return r(e)})).catch((function(e){console.log(e)}))}),[u,O]),Object(c.jsx)(o.a,{children:Object(c.jsxs)(l.c,{children:[Object(c.jsx)(l.a,{exact:!0,path:"/",children:Object(c.jsx)(f,{characters:n,page:u,setPage:b,pageSize:O,setPageSize:x,setItemDetails:S})}),Object(c.jsx)(l.a,{path:"/booksDetails",children:Object(c.jsx)(p,{itemDetails:v})})]})})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,37)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),s(e),r(e),i(e)}))};a.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(m,{})}),document.getElementById("root")),v()}},[[36,1,2]]]);
//# sourceMappingURL=main.8eaf5d83.chunk.js.map